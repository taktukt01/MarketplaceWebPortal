
@model List<MarketplaceWebPortal.Core.POCOClasses.ProductDetailUI>




<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="~/Content/ProductSummary.css" />

    @Scripts.Render("~/bundles/jquery")
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>



<body>



    <nav id="grad1">


        <div class="d-flex justify-content-between">
            <div class="p-2 bd-highlight">

                <img src="~/Img/Joole_250x150.png" class="img-responsive" />

            </div>
            <div class="p-2 bd-highlight">

                <form action="/Selection/Details" method="post" id="myForm">

                    <div class="dropdown">
                        <button style="color:black" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
                            Category
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="">Mechanical</a></li>
                            <li><a href="">Electrical</a></li>
                            <li><a href="">Stationary</a></li>
                            <li><a href="">Furniture</a></li>
                        </ul>
                        <select id="products" name="products">
                            <option value="" disabled selected hidden>Search...</option>
                            <option value=""></option>
                            <option value=""></option>
                            <option value=""></option>
                            <option value=""></option>
                        </select>
                        <button class="btn btn-info">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </div>
                </form>

            </div>

            <div class="p-2 bd-highlight">

                @*<img src="https://images.pexels.com/photos/104827/cat-pet-animal-domestic-104827.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=100" class="img-thumbnail rounded" />*@



            </div>
        </div>
    </nav>





    @* make flex container in the future..? *@

    <div class="container-fluid" style="padding-left: 0; padding-right: 0">


        <div class="row justify-content-start">

            <!-- row -->
            <div class="col-3 border mt-5">
                @*  Criteria *@

                @*@using (Html.BeginForm("Product", "Summary", FormMethod.Post))
                    {*@
                <div class="row justify-content-start">

                    <div class="col-2">
                        @Html.Label("Search")

                    </div>
                    <div class="col-3 offset-4">
                        <button class="btn btn-info squared" id="saveBtn">Save</button>

                    </div>
                    <div class="col-3 ">
                        <button id="clearBtn" class="btn btn-info squared">Clear</button>

                    </div>

                </div>

                @* Product,Project *@
                <div class="row border ">
                    <p class="col-6 border">Product</p>
                    <p class="col-6 border">Project</p>
                </div>


                <div class="row border">

                    <div class="accordion" id="accordionExample">

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Model Year
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                <div class="accordion-body">


                                    <div class="input-group">
                                        <input type="text" class="form-control" id="modelStart" placeholder="Start" />
                                        <span class="input-group-addon">-</span>
                                        <input type="text" class="form-control" id="modelEnd" placeholder="End" />
                                    </div>



                                </div>
                            </div>
                        </div>


                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Tech Specifications
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                <div class="accordion-body">



                                    @* Airflow filter  *@
                                    <div class="row">
                                        <div class="col-3">

                                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9Ijk4NC44NXB4IiBoZWlnaHQ9Ijk4NC44NXB4IiB2aWV3Qm94PSIwIDAgOTg0Ljg1IDk4NC44NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTg0Ljg1IDk4NC44NTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTY1Mi4wNzUsOTU0Ljc5MWMxMi4xMDEsMTIsMjguNywyMC4xLDQ1LjcsMjEuNWMxNy4yLDEuMzk5LDM0LjktMi44LDQ5LjItMTIuNWMzLjktMi42MDEsNy42LTUuNywxMC45LTlsMC4xLTAuMTAxDQoJCWwyMDQuOS0yMDQuODk5YzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMTAxYy0yOS4zMDEtMjkuMy03Ni44MDEtMjkuMy0xMDYuMTAxLDBsLTc2Ljg5OSw3Ni45di02MzdjMC00MS40LTMzLjYwMS03NS03NS03NQ0KCQljLTQxLjQsMC03NSwzMy42LTc1LDc1djYzN2wtNzguOS03OC45Yy0yOS4zLTI5LjMtNzYuOC0yOS4zLTEwNi4xLDBjLTI5LjMwMSwyOS4zMDEtMjkuMzAxLDc2LjgwMSwwLDEwNi4xMDFsMjA3LDIwNw0KCQlDNjUxLjk3NSw5NTQuNjksNjUxLjk3NSw5NTQuNzkxLDY1Mi4wNzUsOTU0Ljc5MXoiLz4NCgk8cGF0aCBkPSJNNzQuOTc1LDM2NS40OTFjMTkuMiwwLDM4LjQtNy4zLDUzLTIybDc4LjktNzguOXY2MzdjMCw0MS40LDMzLjYsNzUsNzUsNzVzNzUtMzMuNiw3NS03NXYtNjM3bDc2Ljg5OSw3Ni45DQoJCWMxNC42MDEsMTQuNiwzMy44LDIyLDUzLDIyczM4LjQtNy4zLDUzLTIyYzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMWMtNS4zOTktNS40LTEwLjg5OS0xMC45LTE2LjMtMTYuMw0KCQljLTEzLjMtMTMuMy0yNi41LTI2LjctMzkuOS0zOS45Yy0xNy4xOTktMTcuMS0zNC4zLTM0LjItNTEuMzk5LTUxLjRjLTE2LjgtMTctMzQuMi0zMy41LTUwLjktNTAuNw0KCQljLTE2LjItMTYuNi0zMi42LTMyLjktNDkuODk5LTQ4LjVjLTE4LTE2LjItNDEuNS0yNC4yLTY1LjctMTguNWMtNi4yLDEuNC0xMi44LDMuOC0xOC40LDYuOWMtMTYuNyw5LjQtMzAsMjQuOS00My41LDM4LjMNCgkJYy0xNi41LDE2LjMtMzIuNywzMi45LTQ5LjEsNDkuNGMtMTkuNSwxOS42LTM5LjIsMzkuMS01OC44LDU4LjZjLTE2LjQsMTYuNi0zMywzMy4yLTQ5LjUsNDkuOGMtOCw4LTE2LDE1LjktMjQsMjMuOQ0KCQljLTAuMSwwLjEtMC4zLDAuMy0wLjQsMC40Yy0yOS4zLDI5LjMtMjkuMyw3Ni44LDAsMTA2LjFDMzYuNTc1LDM1OC4xOTEsNTUuNzc1LDM2NS40OTEsNzQuOTc1LDM2NS40OTF6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="
                                                 style="        padding: .25rem;
                                             max-width: 40px;
                                              height: 50px;
                                             " />

                                        </div>

                                        <div class="col-9">
                                            <p>
                                                Airflow (CFM)
                                            </p>
                                        </div>

                                    </div>


                                    <div class="row">



                                        <div class="col">
                                            <label class="form-label">0</label>
                                        </div>
                                        <div class="col">

                                            @* get the highest CFM among products *@
                                            <input type="range" class="form-range" min="0" max=@Model.Max(t => t.air_flow) step="1000" id="airflow">


                                        </div>

                                        <div class="col">
                                            <label class="form-label">@Model.Max(t => t.air_flow)</label>
                                        </div>

                                        <br />
                                        <p id="airflowLbl" class="text-center text-danger">0</p>

                                    </div>

                                    @* -------------------------------------------- *@



                                    @* Max Power Filter *@
                                    <div class="row">
                                        <div class="col-3">

                                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9Ijk4NC44NXB4IiBoZWlnaHQ9Ijk4NC44NXB4IiB2aWV3Qm94PSIwIDAgOTg0Ljg1IDk4NC44NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTg0Ljg1IDk4NC44NTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTY1Mi4wNzUsOTU0Ljc5MWMxMi4xMDEsMTIsMjguNywyMC4xLDQ1LjcsMjEuNWMxNy4yLDEuMzk5LDM0LjktMi44LDQ5LjItMTIuNWMzLjktMi42MDEsNy42LTUuNywxMC45LTlsMC4xLTAuMTAxDQoJCWwyMDQuOS0yMDQuODk5YzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMTAxYy0yOS4zMDEtMjkuMy03Ni44MDEtMjkuMy0xMDYuMTAxLDBsLTc2Ljg5OSw3Ni45di02MzdjMC00MS40LTMzLjYwMS03NS03NS03NQ0KCQljLTQxLjQsMC03NSwzMy42LTc1LDc1djYzN2wtNzguOS03OC45Yy0yOS4zLTI5LjMtNzYuOC0yOS4zLTEwNi4xLDBjLTI5LjMwMSwyOS4zMDEtMjkuMzAxLDc2LjgwMSwwLDEwNi4xMDFsMjA3LDIwNw0KCQlDNjUxLjk3NSw5NTQuNjksNjUxLjk3NSw5NTQuNzkxLDY1Mi4wNzUsOTU0Ljc5MXoiLz4NCgk8cGF0aCBkPSJNNzQuOTc1LDM2NS40OTFjMTkuMiwwLDM4LjQtNy4zLDUzLTIybDc4LjktNzguOXY2MzdjMCw0MS40LDMzLjYsNzUsNzUsNzVzNzUtMzMuNiw3NS03NXYtNjM3bDc2Ljg5OSw3Ni45DQoJCWMxNC42MDEsMTQuNiwzMy44LDIyLDUzLDIyczM4LjQtNy4zLDUzLTIyYzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMWMtNS4zOTktNS40LTEwLjg5OS0xMC45LTE2LjMtMTYuMw0KCQljLTEzLjMtMTMuMy0yNi41LTI2LjctMzkuOS0zOS45Yy0xNy4xOTktMTcuMS0zNC4zLTM0LjItNTEuMzk5LTUxLjRjLTE2LjgtMTctMzQuMi0zMy41LTUwLjktNTAuNw0KCQljLTE2LjItMTYuNi0zMi42LTMyLjktNDkuODk5LTQ4LjVjLTE4LTE2LjItNDEuNS0yNC4yLTY1LjctMTguNWMtNi4yLDEuNC0xMi44LDMuOC0xOC40LDYuOWMtMTYuNyw5LjQtMzAsMjQuOS00My41LDM4LjMNCgkJYy0xNi41LDE2LjMtMzIuNywzMi45LTQ5LjEsNDkuNGMtMTkuNSwxOS42LTM5LjIsMzkuMS01OC44LDU4LjZjLTE2LjQsMTYuNi0zMywzMy4yLTQ5LjUsNDkuOGMtOCw4LTE2LDE1LjktMjQsMjMuOQ0KCQljLTAuMSwwLjEtMC4zLDAuMy0wLjQsMC40Yy0yOS4zLDI5LjMtMjkuMyw3Ni44LDAsMTA2LjFDMzYuNTc1LDM1OC4xOTEsNTUuNzc1LDM2NS40OTEsNzQuOTc1LDM2NS40OTF6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="
                                                 style="        padding: .25rem;
                                             max-width: 40px;
                                              height: 50px;
                                             " />

                                        </div>

                                        <div class="col-9">
                                            <p>
                                                Max Power(W)
                                            </p>
                                        </div>

                                    </div>


                                    <div class="row">

                                        <div class="col">
                                            <label class="form-label">0</label>
                                        </div>

                                        <div class="col">
                                            <input type="range" class="form-range" min="0" max=@Model.Max(t => t.power_max) step="0.01" id="maxPower">

                                        </div>
                                        <div class="col">
                                            <label class="form-label">@Model.Max(t => t.power_max)</label>
                                        </div>

                                    </div>
                                    <p id="maxPowerLbl" class="text-center text-danger">0</p>

                                    @* ------------------------------------ *@


                                    @* SOund at max power filter *@
                                    <div class="row">
                                        <div class="col-3">

                                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9Ijk4NC44NXB4IiBoZWlnaHQ9Ijk4NC44NXB4IiB2aWV3Qm94PSIwIDAgOTg0Ljg1IDk4NC44NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTg0Ljg1IDk4NC44NTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTY1Mi4wNzUsOTU0Ljc5MWMxMi4xMDEsMTIsMjguNywyMC4xLDQ1LjcsMjEuNWMxNy4yLDEuMzk5LDM0LjktMi44LDQ5LjItMTIuNWMzLjktMi42MDEsNy42LTUuNywxMC45LTlsMC4xLTAuMTAxDQoJCWwyMDQuOS0yMDQuODk5YzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMTAxYy0yOS4zMDEtMjkuMy03Ni44MDEtMjkuMy0xMDYuMTAxLDBsLTc2Ljg5OSw3Ni45di02MzdjMC00MS40LTMzLjYwMS03NS03NS03NQ0KCQljLTQxLjQsMC03NSwzMy42LTc1LDc1djYzN2wtNzguOS03OC45Yy0yOS4zLTI5LjMtNzYuOC0yOS4zLTEwNi4xLDBjLTI5LjMwMSwyOS4zMDEtMjkuMzAxLDc2LjgwMSwwLDEwNi4xMDFsMjA3LDIwNw0KCQlDNjUxLjk3NSw5NTQuNjksNjUxLjk3NSw5NTQuNzkxLDY1Mi4wNzUsOTU0Ljc5MXoiLz4NCgk8cGF0aCBkPSJNNzQuOTc1LDM2NS40OTFjMTkuMiwwLDM4LjQtNy4zLDUzLTIybDc4LjktNzguOXY2MzdjMCw0MS40LDMzLjYsNzUsNzUsNzVzNzUtMzMuNiw3NS03NXYtNjM3bDc2Ljg5OSw3Ni45DQoJCWMxNC42MDEsMTQuNiwzMy44LDIyLDUzLDIyczM4LjQtNy4zLDUzLTIyYzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMWMtNS4zOTktNS40LTEwLjg5OS0xMC45LTE2LjMtMTYuMw0KCQljLTEzLjMtMTMuMy0yNi41LTI2LjctMzkuOS0zOS45Yy0xNy4xOTktMTcuMS0zNC4zLTM0LjItNTEuMzk5LTUxLjRjLTE2LjgtMTctMzQuMi0zMy41LTUwLjktNTAuNw0KCQljLTE2LjItMTYuNi0zMi42LTMyLjktNDkuODk5LTQ4LjVjLTE4LTE2LjItNDEuNS0yNC4yLTY1LjctMTguNWMtNi4yLDEuNC0xMi44LDMuOC0xOC40LDYuOWMtMTYuNyw5LjQtMzAsMjQuOS00My41LDM4LjMNCgkJYy0xNi41LDE2LjMtMzIuNywzMi45LTQ5LjEsNDkuNGMtMTkuNSwxOS42LTM5LjIsMzkuMS01OC44LDU4LjZjLTE2LjQsMTYuNi0zMywzMy4yLTQ5LjUsNDkuOGMtOCw4LTE2LDE1LjktMjQsMjMuOQ0KCQljLTAuMSwwLjEtMC4zLDAuMy0wLjQsMC40Yy0yOS4zLDI5LjMtMjkuMyw3Ni44LDAsMTA2LjFDMzYuNTc1LDM1OC4xOTEsNTUuNzc1LDM2NS40OTEsNzQuOTc1LDM2NS40OTF6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="
                                                 style="        padding: .25rem;
                                             max-width: 40px;
                                              height: 50px;
                                             " />

                                        </div>

                                        <div class="col-9">
                                            <p>
                                                Sound at max power (dBA)
                                            </p>
                                        </div>

                                    </div>


                                    <div class="row">

                                        <div class="col">
                                            <label class="form-label">0</label>

                                        </div>
                                        <div class="col">
                                            <input type="range" class="form-range" min="0" max=@Model.Max(t => t.sound_at_max_speed) id="soundMax">

                                        </div>
                                        <div class="col">
                                            <label class="form-label">@Model.Max(t => t.sound_at_max_speed)</label>

                                        </div>
                                        <p id="soundAtMaxLbl" class="text-center text-danger">0</p>

                                    </div>

                                    @* ---------------------------------------- *@
                                    @* Fan Sweep diameter filter *@

                                    <div class="row">
                                        <div class="col-3">

                                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9Ijk4NC44NXB4IiBoZWlnaHQ9Ijk4NC44NXB4IiB2aWV3Qm94PSIwIDAgOTg0Ljg1IDk4NC44NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTg0Ljg1IDk4NC44NTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTY1Mi4wNzUsOTU0Ljc5MWMxMi4xMDEsMTIsMjguNywyMC4xLDQ1LjcsMjEuNWMxNy4yLDEuMzk5LDM0LjktMi44LDQ5LjItMTIuNWMzLjktMi42MDEsNy42LTUuNywxMC45LTlsMC4xLTAuMTAxDQoJCWwyMDQuOS0yMDQuODk5YzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMTAxYy0yOS4zMDEtMjkuMy03Ni44MDEtMjkuMy0xMDYuMTAxLDBsLTc2Ljg5OSw3Ni45di02MzdjMC00MS40LTMzLjYwMS03NS03NS03NQ0KCQljLTQxLjQsMC03NSwzMy42LTc1LDc1djYzN2wtNzguOS03OC45Yy0yOS4zLTI5LjMtNzYuOC0yOS4zLTEwNi4xLDBjLTI5LjMwMSwyOS4zMDEtMjkuMzAxLDc2LjgwMSwwLDEwNi4xMDFsMjA3LDIwNw0KCQlDNjUxLjk3NSw5NTQuNjksNjUxLjk3NSw5NTQuNzkxLDY1Mi4wNzUsOTU0Ljc5MXoiLz4NCgk8cGF0aCBkPSJNNzQuOTc1LDM2NS40OTFjMTkuMiwwLDM4LjQtNy4zLDUzLTIybDc4LjktNzguOXY2MzdjMCw0MS40LDMzLjYsNzUsNzUsNzVzNzUtMzMuNiw3NS03NXYtNjM3bDc2Ljg5OSw3Ni45DQoJCWMxNC42MDEsMTQuNiwzMy44LDIyLDUzLDIyczM4LjQtNy4zLDUzLTIyYzI5LjMtMjkuMywyOS4zLTc2LjgsMC0xMDYuMWMtNS4zOTktNS40LTEwLjg5OS0xMC45LTE2LjMtMTYuMw0KCQljLTEzLjMtMTMuMy0yNi41LTI2LjctMzkuOS0zOS45Yy0xNy4xOTktMTcuMS0zNC4zLTM0LjItNTEuMzk5LTUxLjRjLTE2LjgtMTctMzQuMi0zMy41LTUwLjktNTAuNw0KCQljLTE2LjItMTYuNi0zMi42LTMyLjktNDkuODk5LTQ4LjVjLTE4LTE2LjItNDEuNS0yNC4yLTY1LjctMTguNWMtNi4yLDEuNC0xMi44LDMuOC0xOC40LDYuOWMtMTYuNyw5LjQtMzAsMjQuOS00My41LDM4LjMNCgkJYy0xNi41LDE2LjMtMzIuNywzMi45LTQ5LjEsNDkuNGMtMTkuNSwxOS42LTM5LjIsMzkuMS01OC44LDU4LjZjLTE2LjQsMTYuNi0zMywzMy4yLTQ5LjUsNDkuOGMtOCw4LTE2LDE1LjktMjQsMjMuOQ0KCQljLTAuMSwwLjEtMC4zLDAuMy0wLjQsMC40Yy0yOS4zLDI5LjMtMjkuMyw3Ni44LDAsMTA2LjFDMzYuNTc1LDM1OC4xOTEsNTUuNzc1LDM2NS40OTEsNzQuOTc1LDM2NS40OTF6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="
                                                 style="        padding: .25rem;
                                             max-width: 40px;
                                              height: 50px;
                                             " />

                                        </div>

                                        <div class="col-9">
                                            <p>
                                                Fan Sweep Diameter(in)
                                            </p>
                                        </div>

                                    </div>



                                    <div class="row">

                                        <div class="col">
                                            <label class="form-label">0</label>

                                        </div>
                                        <div class="col">
                                            <input type="range" class="form-range" min="0" max=@Model.Max(t => t.fan_sweep_diameter) id="fanSweep">

                                        </div>
                                        <div class="col">
                                            <label class="form-label"> @Model.Max(t => t.fan_sweep_diameter)</label>

                                        </div>

                                    </div>
                                    <p id="fansweepLbl" class="text-center text-danger">0</p>

                                </div>
                            </div>
                        </div>



                    </div>
                </div>
            </div>


            @*Product Results*@

            @* Category Name >   SubCategory Name*@
            <div class="card-deck col-9">
                <div class="row">

                    @foreach (var item in Model)
                    {
                        <div class="card col" id=@item.ProductID>
                            @* product image *@

                            <img class="card-img-top" src=@item.ProductURL>
                            <div class="card-body">
                                @* product description (Manufacture, Series, Model) *@
                                <h5 class="card-title text-center">
                                    @Html.DisplayFor(m => item.ManufactureName)
                                    @Html.DisplayFor(m => item.series_name)
                                    @Html.DisplayFor(m => item.model_name)

                                </h5>

                                @*  you can't add id/class properties for DisplayFor -- <bold> *@
                                @Html.DisplayFor(m => item.air_flow)
                                CFM
                                @Html.HiddenFor(m => item.air_flow, new { @class = "air_flow_val" })
                                <br />


                                @Html.DisplayFor(m => item.power_max)
                                W at max speed
                                @Html.HiddenFor(m => item.power_max, new { @class = "max_power" })
                                <br />

                                @Html.DisplayFor(m => item.sound_at_max_speed)
                                dbA at max speed
                                @Html.HiddenFor(m => item.sound_at_max_speed, new { @class = "sound_max_speed" })
                                <br />


                                @Html.DisplayFor(m => item.fan_sweep_diameter)
                                fan sweep diameter
                                @Html.HiddenFor(m => item.fan_sweep_diameter, new { @class = "fan_sweeep" })

                                @Html.HiddenFor(m => item.model_year, new { @class = "model_year" })

                                <br />

                            </div>
                            @* Tech Specs *@
                            <div class="card-footer">
                                <!--<small class="text-muted">-->@*Last updated 3 mins ago*@<!--</small>-->

                                <div class="row">
                                    <div class="col">
                                        @Html.Label("Compare")
                                        @Html.CheckBox("Compare", false, new { @id = item.ProductID })

                                    </div>
                                    <div class="col">
                                        <button class="btn btn-primary productDetails" id=@item.ProductID>Add to</button>
                                    </div>
                                </div>

                            </div>
                        </div>


                    }


                </div>


            </div>
            <div class="text-right mt-5">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="text-right">
                            <button type="button" id="compareBtn" class="btn btn-success rounded-pill">Compare</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



 



    <script>

        $("#clearBtn").on("click", function () {
            //reset all filters
            $("input[type=range]").val(0);

            $(".card").show();
        })

        $("#saveBtn").on("click", function () {

            //check start model year
            //check end model year
            // check if model_year for each card is between these value
            var cards = $(".card");
            var model_start = $("#modelStart").val();
            var model_end = $("#modelEnd").val();
            console.log(model_start);
            console.log(model_end);

            for (var i = 0; i < cards.length; i++) {
                let item_model_year = cards[i].querySelector(".model_year").value;
                //for each card...
                if (item_model_year <= model_end &&
                    item_model_year >= model_start) {
                    $(cards[i]).show()
                } else {
                    $(cards[i]).hide();
                }
            }

        });

        //#fanSweep  -- slider
        //.fan_sweeep  --  value
        $('#fanSweep').on('change', function () {
            //value for airlfow
            var currentVal = $(this).val();

            //get value for each product's airflow
            var cards = $(".card");

            $("#fansweepLbl").text(currentVal);
            //Grab the airflow val

            for (var i = 0; i < cards.length; i++) {
                //for each card...
                if (cards[i].querySelector(".fan_sweeep").value == currentVal) {
                    $(cards[i]).show()
                } else {
                    $(cards[i]).hide();
                }



            }

        });




        //Sound at max speed FILTER
        //.sound_max_speed
        $('#soundMax').on('change', function () {
            //value for airlfow
            var currentVal = $(this).val();

            //get value for each product's airflow
            var cards = $(".card");

            $("#soundAtMaxLbl").text(currentVal);
            //Grab the airflow val


            for (var i = 0; i < cards.length; i++) {

                //for each card...
                if (cards[i].querySelector(".sound_max_speed").value == currentVal) {
                    $(cards[i]).show()
                } else {
                    $(cards[i]).hide();
                }



            }

        });




        // Operating Voltage FILTER
        //.voltage_max_speed

        $('#maxPower').on('change', function () {
            //value for airlfow
            var currentVal = $(this).val();

            //get value for each product's airflow
            var cards = $(".card");

            $("#maxPowerLbl").text(currentVal);
            //Grab the airflow val


            for (var i = 0; i < cards.length; i++) {

                //for each card...
                if (cards[i].querySelector(".max_power").value == currentVal) {
                    $(cards[i]).show()
                } else {
                    $(cards[i]).hide();
                }



            }

        });


        //Airflow FILTER
        $('#airflow').on('change', function () {
            //value for airlfow
            var currentVal = $(this).val();

            //get value for each product's airflow
            var cards = $(".card");

            $("#airflowLbl").text(currentVal);
            //Grab the airflow val


            for (var i = 0; i < cards.length; i++) {

                //for each card...

                //console.log( cards[i].children(".card-body").children(".air_flow_val").val());

                if (cards[i].querySelector(".air_flow_val").value == currentVal) {
                    $(cards[i]).show()
                } else {
                    $(cards[i]).hide();
                }



            }

        });




        $(document).ready(function () {
            //Search  menu dropdown
            $(".dropdown-menu").find("li a").click(function (e) {
                $('.selectedLi').removeClass('selectedLi');
                $(this).addClass('selectedLi');
                var text = $('.dropdown-menu').find("li a.selectedLi").text();
                if (text == "Mechanical") {
                    $("#products").empty();
                    $("#products").append("<option value=''></option><option value=''></option><option value='Generators'>Generators</option>");

                } else if (text == "Electrical") {
                    $("#products").empty();
                    $("#products").append("<option value='Toasters'>Toasters</option><option value='Lights'>Lights</option><option value='Heaters'>Heaters</option>");

                } else if (text == "Stationary") {
                    $("#products").empty();
                    $("#products").append("<option value='Staplers'>Staplers</option><option value='Notepads'>Notepads</option><option value='Stamps'>Stamps</option>");

                } else if (text == "Furniture") {
                    $("#products").empty();
                    $("#products").append("<option value='Sofas'>Sofas</option><option value='Couches'>Couches</option><option value='Tables'>Tables</option>");

                } else {
                    $("#products").empty();
                    $("#products").append("<option value='SelectCate'>Select Category First</option>");
                }
                e.preventDefault();
            });

        });

        $('#compareBtn').on('click', function () {
            //first make sure not more than 3 is clicked.
            //if > 3 clicked?
            // alert.
            let numsOfCheckboxesChecked = 0;

            var productIds = [];
            var cardFooter = $(".card-footer");
            cardFooter.each(function (index, elemnt) {
                numsOfCheckboxesChecked += $(this).find($('input[type="checkbox"]:checked')).length;
            });

            if (numsOfCheckboxesChecked > 3 || numsOfCheckboxesChecked < 1) {

                alert("Please select at most 3 products to compare");
            } else {
                //grab all cards which have input checkbox CHECKED
                cardFooter.each(function (index, elemnt) {
                    if ($(this).find($('input[type="checkbox"]:checked'))) {
                        productIds.push($(this).find($('input[type="checkbox"]:checked')).attr("id"));
                    }
                });
                // redirect to product Details page, but with List<int> --> Product ID.


            }
            console.log(JSON.stringify(productIds));
            //ajax make request to /Compare and pass in data: productIds
            //$.ajax({
            //    type: "POST",
            //    //url: "https://localhost/ProductDetail/Compare",
            //    url: "/ProductDetail/Compare",
            //    data: {
            //        productIds: JSON.stringify(productIds)
            //    },

            //    success: function (resp) {
            //        if (resp != null) {
            //            window.location = "https://localhost:44348/ProductDetail/Compare"
            //        }
            //    },

            //    failure: function (err) {
            //        alert(err);
            //    }
            //});

            //remove nulls
            var filtered = productIds.filter(function (el) {
                return el != null;
            });


            $.ajax({
                url: "/ProductDetail/Compare",
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    productId : filtered
                }),
                error: function (jqXHR, exception) {
                    alert('Error message.');
                }
            });


            console.log(filtered);
            var url = "/ProductDetail/Compare"

            $.ajax({
                url: url,
                type: 'POST',
                contentType: 'application/json',
                data: {
                    'productIds': filtered
                },
            });

           
            //console.table(productIds);
        });



    </script>





</body>

